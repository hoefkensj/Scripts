#!/usr/bin/env bash
# ############################################################################
# #	PATH: /opt/local/scripts/rc/bash/
# #	FILE: 101_sources.conf
# ############################################################################
#
function batchsrc
{
	printf "\x1b[0G\x1b[1;37mSourcing: \x1b[1;33m${3}"
	printf "\x1b[38G"
	printf "\x1b[1;37m["
	printf "\x1b[39G\x1b[1;32m${1}" 
	printf "\x1b[40G\x1b[0;37m/"
	printf "\x1b[41G\x1b[1;37m${2}"
	printf "\x1b[42G\x1b[1;37m]"
	[[ -r $4 ]] && source $4 

}

OPT='/opt/local/scripts/rc/bash'
ETC='/etc/bash/bashrc.d'
USR='/usr/share/bash-completion'

NO="$(ls $OPT/[2-9]??_* |wc -l)"
NE="$(ls $ETC/*.sh |wc -l)"
NU="$(ls $USR/bash_completion |wc -l)"

C=0
for CONF in $OPT/[2-9]??_*  ; do	
	C="$(($C+1))"
	batchsrc $C $NO $OPT $CONF 
done
printf '\x1b[45G\x1b[1;32mDONE\x1b[0m\n' 
# for CONF in /etc/bash/bashrc.d??_*  ; do	
# 	C="$(($C+1))"
# 	source $C $NO $OPT $CONF 
# done



# function bashcompletionetc 
# {

# 	for CONF in /etc/bash/bashrc.d/*   ; do		
# 		[[ -r $CONF ]] && source $CONF
# 		C=$(( $C + 1 ))
# 		printf '\x1b[68G'; printf "[${C}/${N}]"
# 	done
# 	printf '\x1b[68G'; printf "[${C}/${N}]"; printf '\x1b[32m DONE\x1b[0m\n' 
# }
# function bashcompletionusr 
# {
# 	N=$(ls /usr/share/bash-completion/bash_completion  |wc -l) ;	C=0
# 	printf "Sourcing: /usr/share/bash-completion" ;printf '\x1b[68G' ;printf "[0/${N}]"
# 	for CONF in /usr/share/bash-completion/bash_completion   ; do		
# 		[[ -r $CONF ]] && source $CONF
# 		C=$(( $C + 1 ))
# 		printf '\x1b[68G'; printf "[${C}/${N}]"
# 	done
# 	printf '\x1b[68G'; printf "[${C}/${N}]"; printf '\x1b[32m DONE\x1b[0m\n' 
# }
# function bashhub 
# {
# 	N=$(ls  ${HOME}/.bashhub/*.sh  |wc -l) ;	C=0
# 	printf "Sourcing: ${HOME}/.bashhub/" ;printf '\x1b[68G' ;printf "[0/${N}]"
# 	for CONF in  ${HOME}/.bashhub/*.sh  ; do		
# 		[[ -r $CONF ]] && source $CONF
# 		C=$(( $C + 1 ))
# 		printf '\x1b[68G'; printf "[${C}/${N}]"
# 	done
# 	printf '\x1b[68G'; printf "[${C}/${N}]"; printf '\x1b[32m DONE\x1b[0m\n' 
# }
# bashcompletionetc; bashcompletionusr; bashrc ; bashhub
#
# ###########################################################################
# # EOF:: /opt/local/scripts/rc/bash/101_sources.conf
#############################################################################